{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"P4XDMT Hardware Prototype The P4XDMT is an advanced amateur radio satellite transceiver offering high performance SDR capabilities. Visit the sections on the left to view more information about different aspects of the design.","title":"P4XDMT Hardware Prototype"},{"location":"#p4xdmt-hardware-prototype","text":"The P4XDMT is an advanced amateur radio satellite transceiver offering high performance SDR capabilities. Visit the sections on the left to view more information about different aspects of the design.","title":"P4XDMT Hardware Prototype"},{"location":"transponder-characteristics/","text":"P4XT Transponder Characteristics White Paper \u2013 May 24 2021 Wally Ritchie Introduction Purpose This paper provides preliminary information regarding the expected characteristics of the P4XT Digital Muliplexed Transponder (DMT). The primary purpose is to support analysis associated with link budgets. It should also be useful as a primer to the architecture of the DMT, especially when used in conjunction with the P4XT Workshop Presentation available from the ORI site at . Scope This document provides preliminary information that should be understood as provision and subject to change as the design progresses. Nevertheless, these characteristics are expected to be close to the final design with respect to link budgeting. Description General Architecture The DMT is designed to provide a relay service in Geosynchronous Order for Amateur Radio Satellite service earth stations. The design is all digital including digital only uplinks and a single digital downlink. The onboard multiplexors provide the digital uplink data and pass it through the single downlink. Although designed primarily for Geo, the DMT is also useful in HEO and other scenarios where symbol rates of around 0.4Mbaud to 8Mbaud are feasible. The DVB-S2 transmitter is useful over a wider range of symbol rates where different multiplexing schemes are more appropriate including non-relay applications. It is important to recognize that this architecture is radically different from that of a convention bent pipe transporter, whether regenerative or not. The DMT is a receiver \u2013 multiplexor \u2013 transmitter chain with processing that determines whether data is forwarded from uplink to downlink. Except for some special modes to support transfer of digitized analog uplink waveforms, only digital transmissions are supported which may carry real-time voice/data, and IP packets. Uplink Introduction The receive subsystem has both narrowband and wideband multichannel receivers. We will focus on the narrowband receiver as this will be the one used by 99% or more ordinary amateur radio stations. Isochronous Operation The narrowband multiplexor operates isochronously at 25 frames per second. A jitter buffer is required at the receiver which introduces a fixed 20ns - 40ms delay. Each frame is 40ms which is compatible or adaptable for most modern codecs. Channelization The basic narrowband channel spacing is expected to be 12.5 kHz with 160 channels. Each transmission must fit within the allocation. The baseline modulation is QPSK at 2500 symbols per second. This results in a raw bit rate of 5000 bps. Note that alternatives to QPSK are under review and are likely - so this is just a baseline. The key parameters are the implementation loss of the demodulation scheme, its raw bit rate, and its occupied bandwidth. Error Correction While the downlink is quasi error free, the uplinks may operate for some application with error rate approaching 1%. These are suitable for voice. IP data may require higher performance. The baseline coding is convolutional coding supporting at least \u00bd and \u00be rates (with \u00bc desirable). Framing The uplink is framed at the 25 frame per second rate resulting in a frame size of 100 symbols or 100 raw bits at \u00bd fec. This rate provides 96 payload bits plus 4 control bits that can be passed to the multiplex and/or controller. The 96 payload bits provide 2400 bps of error corrected bandwidth. The \u00be rate fec extends this to 3600 bps and the \u00bc rate fec reduces it to 1200 bps. These are all in the range of data rates useful in amateur digital voice and data applications in HF and VHF. With current codec technologies (e.g. LPCNet + Codec2), performance that far exceeding that of the codecs deployed in amateur digital radio are viable. The symbol rate can be doubles to double the payloads to 2400, 4800, and 7200 bps which can provide high quality wideband voice. Note that these are real-time conversational modes. Arbitrarily high voice quality can be achieved using store-and-forward messaging modes. 160 channels are provided occupying 2 MHz of uplink bandwidth. Note that wideband channels may occupy an additional 2MHZ or more of bandwidth. (The bands are split in the front-end digital processing using fft\u2019s). 160 channels can support 320 users in PTT mode and more than a thousand channels in NET mode. Essentially, idle stations are parked and gain the channel when the current occupant drops. This process is assisted by the protocols. Operation is also possible with 1 channel per use which supports 160 simulations users for fox like operation. Narrowband Multiplex The NBM is transparent to the receivers as long as the basic parameters are met. Basically, the receiver makes available, for each channel, N bits per frame plus a pair of two bit label. Once the transmission is authenticated, the payload bits (e.g. 96) plus 2 label bits are passed to the NBM. The label bits allow the multiplex to signal primary or second data (e.g. voice data) and payload/control). This allows the NBM to insert common data e.g. telemetry and logs when the frame contains no data. The authenticated call sign is inserted in the control data in conformance with local administration (e.g. FCC) rules. The NBM allocates channels as Nx800 payloads. Each 800 bits occupies 32 bits of the downlink. A 2400 bps channel requires three 32 bit words. Labels are outside the payload with 2 bits per channel packed into 32-bit words. This allows receivers to know the location and label for each channel to find the channels of interest. 160 active channels produce 15360 payload bits plus 320 label bits for 15680 data bits. Additional control bits define the channel format. Each channel has a dedicated data rate. Users must select channels of the desired bandwidth. This can change on the fly based on demand but not more than once be 25 frame superframe (1 second). The NBM always produces N DVB-S2 BBFRAMES each 40 ms cycle. The number depends on the allocated narrowband bandwith (in bits). About 40 2400 bit channels can be accommodated per frame and they appear in the downlink as a UDP packet encapsulated with GSE. The use of UDP allows simulation of the multiplexor through the internet. Downlink Introduction The single downlink fully complies with the DVB-S2 standard. This is a complex standard with a myriad of configuration options. We use a subset tailored to our application. Symbol Rates The downlink operates at a fixed symbol rate, typically between 1 Mbaud and 8 Mbaud. The rate can be changed from time to time but this is not a hitless operation. The major tradeoff is symbol rate vs downlink CN. This depends primarily on transmit power and earth station antenna size. MODCOD In DVB-S2 the modulation and coding can be changed frame to frame. This allows a mix of earth station performance with \u00bc QPSK at the low end and 8PSK 8/9 at the upper end (for non-linear transmitters). It is desirable. The basic design parameters are how many BBFRAMES are allocated to the NBM per 40ms window. Remaining capacity is allocated to the wideband channels. Frame Size DVB-S2 allows 16200 or 64800 bits (not symbols) for BBFRAMES. For maximum flexibility we use only the short frame size. Pilots DVB-S2 allows each frame to include pilots or not. We always use pilot on to ease the burder on the receiver when skipping over BBFRAMES with MODCODs outside the earth stations capability. Output Filters and Spectral Regroth The output filter allows rollofs from .15 to .35. We normally use the largest setting. In addition, we must allow for spectrum regrowth when using non-linear output stages. This can be modelled as part of the implementation loss of the transmitter and is typically as much as 3dB. This is offset by the gain in DC efficiency.","title":"P4XT Transponder Characteristics"},{"location":"transponder-characteristics/#p4xt-transponder-characteristics","text":"White Paper \u2013 May 24 2021 Wally Ritchie","title":"P4XT Transponder Characteristics"},{"location":"transponder-characteristics/#introduction","text":"","title":"Introduction"},{"location":"transponder-characteristics/#purpose","text":"This paper provides preliminary information regarding the expected characteristics of the P4XT Digital Muliplexed Transponder (DMT). The primary purpose is to support analysis associated with link budgets. It should also be useful as a primer to the architecture of the DMT, especially when used in conjunction with the P4XT Workshop Presentation available from the ORI site at .","title":"Purpose"},{"location":"transponder-characteristics/#scope","text":"This document provides preliminary information that should be understood as provision and subject to change as the design progresses. Nevertheless, these characteristics are expected to be close to the final design with respect to link budgeting.","title":"Scope"},{"location":"transponder-characteristics/#description","text":"","title":"Description"},{"location":"transponder-characteristics/#general-architecture","text":"The DMT is designed to provide a relay service in Geosynchronous Order for Amateur Radio Satellite service earth stations. The design is all digital including digital only uplinks and a single digital downlink. The onboard multiplexors provide the digital uplink data and pass it through the single downlink. Although designed primarily for Geo, the DMT is also useful in HEO and other scenarios where symbol rates of around 0.4Mbaud to 8Mbaud are feasible. The DVB-S2 transmitter is useful over a wider range of symbol rates where different multiplexing schemes are more appropriate including non-relay applications. It is important to recognize that this architecture is radically different from that of a convention bent pipe transporter, whether regenerative or not. The DMT is a receiver \u2013 multiplexor \u2013 transmitter chain with processing that determines whether data is forwarded from uplink to downlink. Except for some special modes to support transfer of digitized analog uplink waveforms, only digital transmissions are supported which may carry real-time voice/data, and IP packets.","title":"General Architecture"},{"location":"transponder-characteristics/#uplink","text":"","title":"Uplink"},{"location":"transponder-characteristics/#introduction_1","text":"The receive subsystem has both narrowband and wideband multichannel receivers. We will focus on the narrowband receiver as this will be the one used by 99% or more ordinary amateur radio stations.","title":"Introduction"},{"location":"transponder-characteristics/#isochronous-operation","text":"The narrowband multiplexor operates isochronously at 25 frames per second. A jitter buffer is required at the receiver which introduces a fixed 20ns - 40ms delay. Each frame is 40ms which is compatible or adaptable for most modern codecs.","title":"Isochronous Operation"},{"location":"transponder-characteristics/#channelization","text":"The basic narrowband channel spacing is expected to be 12.5 kHz with 160 channels. Each transmission must fit within the allocation. The baseline modulation is QPSK at 2500 symbols per second. This results in a raw bit rate of 5000 bps. Note that alternatives to QPSK are under review and are likely - so this is just a baseline. The key parameters are the implementation loss of the demodulation scheme, its raw bit rate, and its occupied bandwidth.","title":"Channelization"},{"location":"transponder-characteristics/#error-correction","text":"While the downlink is quasi error free, the uplinks may operate for some application with error rate approaching 1%. These are suitable for voice. IP data may require higher performance. The baseline coding is convolutional coding supporting at least \u00bd and \u00be rates (with \u00bc desirable).","title":"Error Correction"},{"location":"transponder-characteristics/#framing","text":"The uplink is framed at the 25 frame per second rate resulting in a frame size of 100 symbols or 100 raw bits at \u00bd fec. This rate provides 96 payload bits plus 4 control bits that can be passed to the multiplex and/or controller. The 96 payload bits provide 2400 bps of error corrected bandwidth. The \u00be rate fec extends this to 3600 bps and the \u00bc rate fec reduces it to 1200 bps. These are all in the range of data rates useful in amateur digital voice and data applications in HF and VHF. With current codec technologies (e.g. LPCNet + Codec2), performance that far exceeding that of the codecs deployed in amateur digital radio are viable. The symbol rate can be doubles to double the payloads to 2400, 4800, and 7200 bps which can provide high quality wideband voice. Note that these are real-time conversational modes. Arbitrarily high voice quality can be achieved using store-and-forward messaging modes. 160 channels are provided occupying 2 MHz of uplink bandwidth. Note that wideband channels may occupy an additional 2MHZ or more of bandwidth. (The bands are split in the front-end digital processing using fft\u2019s). 160 channels can support 320 users in PTT mode and more than a thousand channels in NET mode. Essentially, idle stations are parked and gain the channel when the current occupant drops. This process is assisted by the protocols. Operation is also possible with 1 channel per use which supports 160 simulations users for fox like operation.","title":"Framing"},{"location":"transponder-characteristics/#narrowband-multiplex","text":"The NBM is transparent to the receivers as long as the basic parameters are met. Basically, the receiver makes available, for each channel, N bits per frame plus a pair of two bit label. Once the transmission is authenticated, the payload bits (e.g. 96) plus 2 label bits are passed to the NBM. The label bits allow the multiplex to signal primary or second data (e.g. voice data) and payload/control). This allows the NBM to insert common data e.g. telemetry and logs when the frame contains no data. The authenticated call sign is inserted in the control data in conformance with local administration (e.g. FCC) rules. The NBM allocates channels as Nx800 payloads. Each 800 bits occupies 32 bits of the downlink. A 2400 bps channel requires three 32 bit words. Labels are outside the payload with 2 bits per channel packed into 32-bit words. This allows receivers to know the location and label for each channel to find the channels of interest. 160 active channels produce 15360 payload bits plus 320 label bits for 15680 data bits. Additional control bits define the channel format. Each channel has a dedicated data rate. Users must select channels of the desired bandwidth. This can change on the fly based on demand but not more than once be 25 frame superframe (1 second). The NBM always produces N DVB-S2 BBFRAMES each 40 ms cycle. The number depends on the allocated narrowband bandwith (in bits). About 40 2400 bit channels can be accommodated per frame and they appear in the downlink as a UDP packet encapsulated with GSE. The use of UDP allows simulation of the multiplexor through the internet.","title":"Narrowband Multiplex"},{"location":"transponder-characteristics/#downlink","text":"","title":"Downlink"},{"location":"transponder-characteristics/#introduction_2","text":"The single downlink fully complies with the DVB-S2 standard. This is a complex standard with a myriad of configuration options. We use a subset tailored to our application.","title":"Introduction"},{"location":"transponder-characteristics/#symbol-rates","text":"The downlink operates at a fixed symbol rate, typically between 1 Mbaud and 8 Mbaud. The rate can be changed from time to time but this is not a hitless operation. The major tradeoff is symbol rate vs downlink CN. This depends primarily on transmit power and earth station antenna size.","title":"Symbol Rates"},{"location":"transponder-characteristics/#modcod","text":"In DVB-S2 the modulation and coding can be changed frame to frame. This allows a mix of earth station performance with \u00bc QPSK at the low end and 8PSK 8/9 at the upper end (for non-linear transmitters). It is desirable. The basic design parameters are how many BBFRAMES are allocated to the NBM per 40ms window. Remaining capacity is allocated to the wideband channels.","title":"MODCOD"},{"location":"transponder-characteristics/#frame-size","text":"DVB-S2 allows 16200 or 64800 bits (not symbols) for BBFRAMES. For maximum flexibility we use only the short frame size.","title":"Frame Size"},{"location":"transponder-characteristics/#pilots","text":"DVB-S2 allows each frame to include pilots or not. We always use pilot on to ease the burder on the receiver when skipping over BBFRAMES with MODCODs outside the earth stations capability.","title":"Pilots"},{"location":"transponder-characteristics/#output-filters-and-spectral-regroth","text":"The output filter allows rollofs from .15 to .35. We normally use the largest setting. In addition, we must allow for spectrum regrowth when using non-linear output stages. This can be modelled as part of the implementation loss of the transmitter and is typically as much as 3dB. This is offset by the gain in DC efficiency.","title":"Output Filters and Spectral Regroth"},{"location":"clock-and-reset/clock-and-reset-architecture/","text":"Clock and Reset Architecture Define the clock and reset architecture. Reset includes handling of FDIR concepts including watchdog, fall-back images and safety modes.","title":"Clock and Reset Architecture"},{"location":"clock-and-reset/clock-and-reset-architecture/#clock-and-reset-architecture","text":"Define the clock and reset architecture. Reset includes handling of FDIR concepts including watchdog, fall-back images and safety modes.","title":"Clock and Reset Architecture"},{"location":"data-interfaces/data-interfaces-architecture/","text":"Data Interfaces Support the following requirements: CAN interface I2C interface RS422 interface LVDS interface Appropriate datalink layer protocols (CCSDS? / LibreCube work?) OTA (Over The Air) programming interface","title":"Data Interfaces"},{"location":"data-interfaces/data-interfaces-architecture/#data-interfaces","text":"Support the following requirements: CAN interface I2C interface RS422 interface LVDS interface Appropriate datalink layer protocols (CCSDS? / LibreCube work?) OTA (Over The Air) programming interface","title":"Data Interfaces"},{"location":"power/lcl-design/","text":"LCL Design Some investigative work into an LCL topology has been performed. The LCL (Latching Current Limiter) is an important circuit in the protection of circuits from SEU latch-up. When a high-energy particle causes a latch-up event within bulk CMOS devices the extra current must be detected and removed before permanent damage is caused. To achieve this a fast current limiting circuit is required. To achieve this a translinear loop based current limiting circuit has been designed. It uses matched pair bipolar devices to determine the current through a sense resistor and limit the current at the load using a pass FET. A circuit was designed and simulated in MicroCap as shown below: By using thermistors with appropriate temperature coefficients the effect of temperature on the operation of the circuit be compensated showing precise performance over temperature:","title":"LCL Design"},{"location":"power/lcl-design/#lcl-design","text":"Some investigative work into an LCL topology has been performed. The LCL (Latching Current Limiter) is an important circuit in the protection of circuits from SEU latch-up. When a high-energy particle causes a latch-up event within bulk CMOS devices the extra current must be detected and removed before permanent damage is caused. To achieve this a fast current limiting circuit is required. To achieve this a translinear loop based current limiting circuit has been designed. It uses matched pair bipolar devices to determine the current through a sense resistor and limit the current at the load using a pass FET. A circuit was designed and simulated in MicroCap as shown below: By using thermistors with appropriate temperature coefficients the effect of temperature on the operation of the circuit be compensated showing precise performance over temperature:","title":"LCL Design"},{"location":"power/power-architecture/","text":"Power Architecture Support the following requirements: 6.0 - 14.0 V primary power bus (CubeSat compatability) Optional 20.0 - 40.0 V primary power bus, possibly with pre-convertor (SmallSat compatability) Optional secondary power bus LCL (Latching Current Limiters) on all derived buses for SEU protection Main bus overvoltage protection Main bus undervoltage disable Current and voltage telemetry of all buses Optional switchable buses","title":"Power Architecture"},{"location":"power/power-architecture/#power-architecture","text":"Support the following requirements: 6.0 - 14.0 V primary power bus (CubeSat compatability) Optional 20.0 - 40.0 V primary power bus, possibly with pre-convertor (SmallSat compatability) Optional secondary power bus LCL (Latching Current Limiters) on all derived buses for SEU protection Main bus overvoltage protection Main bus undervoltage disable Current and voltage telemetry of all buses Optional switchable buses","title":"Power Architecture"}]}